---
import PostCard from "../components/PostCard.astro";
import MainLayout from "../layouts/MainLayout.astro"
const allPosts = await Astro.glob("../data/*.md")
const allSortedPosts = allPosts.sort(
	(a, b) =>
		new Date(b.frontmatter.date).valueOf() -
		new Date(a.frontmatter.date).valueOf(),
)
---

<MainLayout>
	<main class="py-10">
		<h1 class="text-2xl font-medium leading-8">Posts</h1>
		<h3 class="mb-6 italic">All the articles I've posted.</h3>
		<section class="[&>:where(article:not(:first-child))]:my-6">
			{allSortedPosts.map(post => <PostCard post={post} />)}
		</section>
	</main>
</MainLayout>
